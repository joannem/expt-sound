<html>
<head>
	<title>Test Animation</title>
	<link rel="stylesheet" type="text/css" href="waveform.css">
	<link rel="stylesheet" type="text/css" href="slider.css">
</head>
<body>
	<br><br>
	<div id="waveform">
		<input type="range" class="waveform-slider" value="0">
		<canvas class="waveform-canvas" id="waveform-canvas-left"></canvas>
		<br><br>
		<canvas class="waveform-canvas" id="waveform-canvas-right"></canvas>
	</div>

	<br>

	<div id="controls">
		<button class="play-pause-btn">play</button>
		<button class="stop-btn">stop</button>
	</div>

</body>

<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="js/slider.js"></script>
<script type="text/javascript">
	var gPlaying = false;
	var gslider = new Slider($('.waveform-slider'), 7000, true);
	var gOffset = 0;

	$('.play-pause-btn').click(function() {
		if (!gPlaying) {
			gslider.startSlider(gOffset);
			gPlaying = true;
		} else {
			gOffset = gslider.pauseSlider();
			gPlaying = false;
		}
	});

	$('.stop-btn').click(function() {
		gslider.stopSlider();
		gOffset = 0;
		gPlaying = false;
	});

	$('.waveform-slider').on("mousedown", function(){
		gslider.pauseSlider();
	});

	$('.waveform-slider').on("mouseup", function(){
		gOffset = this.value;
		console.log("gOffset: " + gOffset);
		if (gPlaying) {
			gslider.startSlider(gOffset);
		}
	});	

</script>
</html>
